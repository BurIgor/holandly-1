extends layout

block content
    #patternId= patternId
    #eventDuration= duration
    .timeline
        .head
            .event-owner= userName
        #event-header
            .top_container
                #event-name= eventType
                #event-duarion= '⌚   ' + duration + ' min'
            #event-description= description
        .timeline-content
            span.backward ❮
            ul.date-bar
                - var weekArray = ['ВС', 'ПН', 'ВТ', 'СР', 'ЧТ', 'ПТ', 'СБ']
                - var monthArray = ['Янв', 'Февр', 'Март', 'Апр', 'Май', 'Июнь', 'Июль', 'Авг', 'Сент', 'Окт', 'Ноя', 'Дек']
                - var currDate = 0
                - list = days
                - for (var i = 0; i < list.length-1; i++) {
                    - currDate = new Date(list[i].date);
                    if list[i].available
                        li.active
                            .list-full-date= currDate.getDate() + '/'+ (currDate.getMonth()+1) + '/' +currDate.getFullYear()
                            .list-day= weekArray[currDate.getDay()]
                            .list-date= currDate.getDate()
                            .list-month= monthArray[currDate.getMonth()]
                        .divider
                    else
                        li
                            .list-full-date= currDate.getDate() + '/'+ (currDate.getMonth()+1) + '/' +currDate.getFullYear()
                            .list-day= weekArray[currDate.getDay()]
                            .list-date= currDate.getDate()
                            .list-month= monthArray[currDate.getMonth()]
                        .divider
                - }
                - currDate = new Date(list[list.length-1].date)
                    if list[list.length-1].available
                        li.active
                            .list-full-date= currDate.getDate() + '/'+ (currDate.getMonth()+1) + '/' +currDate.getFullYear()
                            .list-day= weekArray[currDate.getDay()]
                            .list-date= currDate.getDate()
                            .list-month= monthArray[currDate.getMonth()]
                    else
                        li
                            .list-full-date= currDate.getDate() + '/'+ (currDate.getMonth()+1) + '/' +currDate.getFullYear()
                            .list-day= weekArray[currDate.getDay()]
                            .list-date= currDate.getDate()
                            .list-month= monthArray[currDate.getMonth()]
            span.forward ❯
        .time-container
            ul
    .submit-modal
        i.fa.fa-times.error#close-modal
        .submit-content
            #modal-owner= userName
            .modal-inner
                .modal-right
                    .modal-description
                        #modal-event= eventType
                        #modal-description= description
                    .modal-time
                        #modal-start
                        #modal-duration= "Длительность: " + duration + ' мин'
                .modal-left
                    p#modal-message Для подтвердждения записи на событие введите ваши данные
                    form
                        .modal-container
                            label Имя:
                            br
                            input#visitorName
                            i.fa.fa-check.success
                            i.fa.fa-times.error
                            i.fa.fa-exclamation.warning
                            br
                            span.spanEmpty Поле не может быть пустым
                            span.spanInvalid Имя не может содержать цифры, спецсимволы или пробелы
                        .modal-container
                            label E-Mail:
                            br
                            input#visitorEmail(type='email', placeholder="Введите действующий e-mail адрес")
                            i.fa.fa-check.success
                            i.fa.fa-times.error
                            i.fa.fa-exclamation.warning
                            br
                            span.spanEmpty Поле не может быть пустым
                            span.spanInvalid Введите корректный адрес почты
                        p.modal-confirm Записаться
    script(src="/js/jquery-3.3.1.min.js")
    script(src='/js/date-time-handler.js')