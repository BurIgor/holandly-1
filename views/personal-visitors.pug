extends personal-menu

block block_visitors
    script.
        function createDateElement(date) {
            var dateEvent = document.getElementById('templateDateEvent').cloneNode(true).innerHTML;
            dateEvent = dateEvent.replace(/date-event/gi, 'visitor-dateId' + date);
            dateEvent = dateEvent.replace(/accordionDate/gi, 'accordionId' + date);
            document.getElementById('div-dashboard').innerHTML += dateEvent;
            return document.getElementById('accordionId' + date);
        }
        function createTimeElement(accordionId, time) {
            var timeEvent = document.getElementById('templateTimeEvent').cloneNode(true).innerHTML;
            timeEvent = timeEvent.replace(/headingTimeEvent/gi, 'headingTimeEvent' + accordionId + time);
            timeEvent = timeEvent.replace(/collapseTimeEvent/gi, 'collapseTimeEvent' + accordionId + time);
            timeEvent = timeEvent.replace(/accordionDate/gi, accordionId);
            timeEvent = timeEvent.replace(/templateTimeEvent/gi, 'templateTimeEvent' + accordionId + time);
            document.getElementById(accordionId).innerHTML += timeEvent;
            return document.getElementById(accordionId);
        }
        function createVisitorElement(timeId, visitorData) {
            var visitor = document.getElementById('templateVisitor').cloneNode(true).innerHTML;
            visitor = visitor.replace(/visitor-name/gi, 'headingTimeEvent' + accordionId + time);
            visitor = visitor.replace(/visitor-email/gi, 'collapseTimeEvent' + accordionId + time);
            visitor = visitor.replace(/accordionDate/gi, accordionId);
            visitor = visitor.replace(/templateTimeEvent/gi, 'templateTimeEvent' + accordionId + time);
            document.getElementById(timeId).innerHTML += visitor;
            return document.getElementById(timeId);
        }
        $(document).ready(function () {
            var index = 0;
            var indexT = 0;
            $('#tst').click(function () {

                var dateEvent = createDateElement(index);
                var timeEvent2 = createTimeElement(dateEvent.id, indexT);

                indexT++;
                index++;



                // console.log(timeCard);
                $('.cancel-visitor').click(function () {
                    console.log(this);
                })
            });
        })


    .tab-content.shadow-lg.p-3.mb-5.bg-white.rounded
        #div-dashboard
    a#tst.btn.btn-outline-info test
    //================== visitors page templates =========================
    .tab-content.shadow-lg.p-3.mb-5.bg-white.rounded
        //--- template date -----------------------------
        span(hidden) template
            #templateDateEvent
                .shadow-lg.p-3.mb-5.bg-white.rounded
                    strong date-event
                    hr
                    #accordionDate.accordion
        //--- template time -----------------------------
        span(hidden) template
            #templateTimeEvent
                .card
                    #headingTimeEvent.card-header( data-toggle='collapse', data-target='#collapseTimeEvent', aria-controls='collapseTimeEvent')
                        .d-flex.bd-highlight
                            .p-2.flex-fill time-event
                            .p-2.flex-fill
                                strong type-event
                            .p-2.flex-fill visitors
                            .p-2.navbar.navbar-light
                                .navbar-toggler-icon
                    #collapseTimeEvent.collapse(aria-labelledby='headingTimeEvent', data-parent='#accordionDate')
                        .card-body
                            .d-flex.bd-highlight
                                .p-2.flex-shrink-1.align-self-center
                                    .btn-group-vertical
                                        a.btn.btn-outline-info
                                            | Перепланировать
                                        a.btn.btn-outline-danger
                                            | Отменить
                                .p-2.w-100
                                    ul.visitors.list-group.list-group-flush
                                        li.list-group-item.d-flex.justify-content-between.align-items-center
                                            span visitor-name
                                            span visitor-email
                                            a.cancel-visitor.btn.btn-outline-danger.badge(data-visitor='visitor-name', data-email='visitor-email' ) Х
                            //.card-footer

                                        //li.list-group-item.d-flex.justify-content-between.align-items-center
                                        //    span Cras justo odio
                                        //    span Cras justo odio
                                        //    a.btn.btn-outline-danger.badge Х
                                        //li.list-group-item.d-flex.justify-content-between.align-items-center
                                        //    span Cras justo odio
                                        //    span Cras justo odio
                                        //    a.btn.btn-outline-danger.badge Х
                                        //li.list-group-item.d-flex.justify-content-between.align-items-center
                                        //    span Cras justo odio
                                        //    span Cras justo odio
                                        //    a.btn.btn-outline-danger.badge Х
        //--- template visitor -----------------------------
        span(hidden) template
            #templateVisitor
                li.list-group-item.d-flex.justify-content-between.align-items-center
                    span visitor-name
                    span visitor-email
                    a.cancel-visitor.btn.btn-outline-danger.badge(data-eventid='eventid', data-email='visitor-email' ) Х


    //.tab-content.shadow-lg.p-3.mb-5.bg-white.rounded
    //    #templateDateEvent1
    //        .tab-content.shadow-lg.p-3.mb-5.bg-white.rounded
    //            strong date-event
    //            hr
    //            #accordionExample.accordion
    //
    //                .card#tmpCard
    //                    #headingOne.card-header( data-toggle='collapse', data-target='#collapseOne', aria-controls='collapseOne')
    //                        .d-flex.bd-highlight
    //                            .p-2.flex-fill 11:00-12:32
    //                            .p-2.flex-fill
    //                                strong Rfzrbyкуещцлзукщегзпцукепu
    //                            .p-2.flex-fill Участников 5 из 10
    //                            .p-2.navbar.navbar-light
    //                                .navbar-toggler-icon
    //                    #collapseOne.collapse(aria-labelledby='headingOne', data-parent='#accordionExample')
    //                        .card-body
    //                            .d-flex.bd-highlight
    //                                .p-2.flex-shrink-1.align-self-center
    //                                    .btn-group-vertical
    //                                        a.btn.btn-outline-info
    //                                            | Перепланировать
    //                                        a.btn.btn-outline-danger
    //                                            | Отменить
    //                                .p-2.w-100
    //                                    ul.list-group.list-group-flush
    //                                        li.list-group-item.d-flex.justify-content-between.align-items-center
    //                                            span Cras justo odio
    //                                            span Cras justo odio
    //                                            a.btn.btn-outline-danger.badge Х
    //                                        li.list-group-item.d-flex.justify-content-between.align-items-center
    //                                            span Cras justo odio
    //                                            span Cras justo odio
    //                                            a.btn.btn-outline-danger.badge Х
    //                                        li.list-group-item.d-flex.justify-content-between.align-items-center
    //                                            span Cras justo odio
    //                                            span Cras justo odio
    //                                            a.btn.btn-outline-danger.badge Х
    //                                //ul.list-group.list-group-flush
    //                                //    li.list-group-item.d-flex.justify-content-between.align-items-center
    //                                //        span Cras justo odio
    //                                //        span Cras justo odio
    //                                //        a.btn.btn-outline-danger.badge Х
    //                                //    li.list-group-item.d-flex.justify-content-between.align-items-center
    //                                //        span Cras justo odio
    //                                //        span Cras justo odio
    //                                //        a.btn.btn-outline-danger.badge Х
    //                                //    li.list-group-item.d-flex.justify-content-between.align-items-center
    //                                //        span Cras justo odio
    //                                //        span Cras justo odio
    //                                //        a.btn.btn-outline-danger.badge Х
    //